
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Windows Batch Scripting: stdin, stdout, stderr - /* steve jansen */</title>
  <meta name="author" content="Steve Jansen">

  
  <meta name="description" content="Overview
Part 1 - Getting Started
Part 2 - Variables
Part 3 - Return Codes
Part 4 - stdin, stdout, stderr
Part 5 - If/Then Conditionals
Part 6 - &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://steve-jansen.github.com/guides/windows-batch-scripting/part-4-stdin-stdout-stderr.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="/* steve jansen */" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">/* steve jansen */</a></h1>
  
    <h2>// another day in paradise hacking code and more</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:steve-jansen.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <!--<li><a href="/guides/windows-batch-scripting/">Guide to Windows Batch Scripting</a></li>-->
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Windows Batch Scripting: Stdin, Stdout, Stderr</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-01T10:57:00-05:00" pubdate data-updated="true">Mar 1<span>st</span>, 2013</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><ul>
<li><a href="/guides/windows-batch-scripting/index.html">Overview</a></li>
<li><a href="/guides/windows-batch-scripting/part-1-getting-started.html">Part 1 - Getting Started</a></li>
<li><a href="/guides/windows-batch-scripting/part-2-variables.html">Part 2 - Variables</a></li>
<li><a href="/guides/windows-batch-scripting/part-3-return-codes.html">Part 3 - Return Codes</a></li>
<li>Part 4 - stdin, stdout, stderr</li>
<li><a href="/guides/windows-batch-scripting/part-5-if-then-conditionals.html">Part 5 - If/Then Conditionals</a></li>
<li><a href="/guides/windows-batch-scripting/part-6-loops.html">Part 6 - Loops</a></li>
<li><a href="/guides/windows-batch-scripting/part-7-functions.html">Part 7 - Functions</a></li>
<li><a href="/guides/windows-batch-scripting/part-8-parsing-input.html">Part 8 - Parsing Input</a></li>
<li><a href="/guides/windows-batch-scripting/part-9-logging.html">Part 9 - Logging</a></li>
<li><a href="/guides/windows-batch-scripting/part-advanced-tricks.html">Part 10 - Advanced Tricks</a></li>
</ul>


<p>DOS, like Unix/Linux, uses the three universal &#8220;files&#8221; for keyboard input, printing text on the screen, and the
printing errors on the screen.  The &#8220;Standard In&#8221; file, known as stdin, contains the input to the program/script.
The &#8220;Standard Out&#8221; file, known as stdout, is used to write output for display on the screen.  Finally, the
&#8220;Standard Err&#8221; file, known as stderr, contains any error messages for display on the screen.</p>

<h2>File Numbers</h2>

<p>Each of these three standard files, otherwise known as the standard streams, are referernced using the numbers 0, 1, and 2.
Stdin is file 0, stdout is file 1, and stderr is file 2.</p>

<h2>Redirection</h2>

<p>A very common task in batch files is sending the output of a program to a log file.   The <code>&gt;</code> operator sends, or redirects,
stdout or stderr to another file.  For example, you can write a listing of the current directory to a text file:</p>

<pre><code>DIR &gt; temp.txt
</code></pre>

<p>The <code>&gt;</code> operator will overwrite the contents of temp.txt with stdout from the DIR command.  The <code>&gt;&gt;</code> operator is a slight
variant that appends the output to a target file, rather than overwriting the target file.</p>

<p>A common technique is to use <code>&gt;</code> to create/overwrite a log file, then use <code>&gt;&gt;</code> subsequently to append to the log file.</p>

<pre><code>SomeCommand.exe   &gt; temp.txt
OtherCommand.exe &gt;&gt; temp.txt
</code></pre>

<p>By default, the <code>&gt;</code> and <code>&gt;&gt;</code> operators redirect stdout.  You can redirect stderr by using the file number <code>2</code> in front of the
operator:</p>

<pre><code>DIR SomeFile.txt  2&gt;&gt; error.txt
</code></pre>

<p>You can even combine the stdout and stderr streams using the file number and the <code>&amp;</code> prefix:</p>

<pre><code>DIR SomeFile.txt 2&gt;&amp;1
</code></pre>

<p>This is useful if you want to write both stdout and stderr to a single log file.</p>

<pre><code>DIR SomeFile.txt &gt; output.txt 2&gt;&amp;1
</code></pre>

<p>To use the contents of a file as the input to a program, instead of typing the input from the keyboard, use the <code>&lt;</code> operator.</p>

<pre><code>TYPE &lt; SomeFile.txt
</code></pre>

<h2>Suppressing Program Output</h2>

<p>The pseudofile <code>NUL</code> is used to discard any output from a program. Here is an example of emulating the Unix command <code>sleep</code> by calling ping
against the loopback address.  We redirect stdout to the <code>NUL</code> device to avoid printing the output on the command prompt screen.</p>

<pre><code>PING 127.0.0.1 &gt; NUL
</code></pre>

<h2>Redirecting Program Output As Input to Another Program</h2>

<p>Let&#8217;s say you want to chain together the output of one program as input to another.  This is known as &#8220;piping&#8221; output to another program,
and not suprisingly we use the pipe character <code>|</code> to get the job done.  We&#8217;ll sort the output of the DIR commmand.</p>

<pre><code>DIR /B | SORT
</code></pre>

<h2>A Cool Party Trick</h2>

<p>You can quickly create a new text file, say maybe a batch script, from just the command line by redirecting the command prompt&#8217;s own stdin,
called <code>CON</code>, to a text file.  When you are done typing, hit <code>CTRL+Z</code>, which sends the end-of-file (EOF) character.</p>

<pre><code>TYPE CON &gt; output.txt
</code></pre>

<p><img src="/images/posts/2013-03-05-A.png" alt="Screenshot of sending keyboard input to a file" /></p>

<p>There are a number of other special files on DOS that you can redirect, however, most are a bit dated like like LPT1 for parallel portt printers
or COM1 for serial devices like modems.</p>

<p><span class="basic-alignment left">
<a href="/guides/windows-batch-scripting/part-3-return-codes.html">&lt;&lt; Part 3 - Return Codes</a>
</span>
<span class="basic-alignment right">
<a href="/guides/windows-batch-scripting/part-5-if-then-conditionals.html">Part 5 - If/Then Conditionals >></a>
</span></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Steve Jansen</span></span>

      








  


<time datetime="2013-03-01T10:57:00-05:00" pubdate data-updated="true">Mar 1<span>st</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/batch/'>batch</a>, <a class='category' href='/blog/categories/scripting/'>scripting</a>, <a class='category' href='/blog/categories/shell/'>shell</a>, <a class='category' href='/blog/categories/windows/'>windows</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://steve-jansen.github.com/guides/windows-batch-scripting/part-4-stdin-stdout-stderr.html" data-via="" data-counturl="http://steve-jansen.github.com/guides/windows-batch-scripting/part-4-stdin-stdout-stderr.html" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    
<section>
	<span>
		<img src="http://www.gravatar.com/avatar/9ece5a08fa2e47180dc50d1e31f92e2f?s=200" alt="Gravatar of Steve Jansen " title="Gravatar of Steve Jansen" class="right" style="display: block" />
	</span>
</section>
<section>
  <h1>About Me</h1>
  <p>
    Hi, I'm Steve and I like to code.  
    I'm also an (ISC)<sup>2</sup> <a href="https://www.isc2.org/csslp/default.aspx">CSSLP</a>.
    More importantly, I'm an avid fan of <a href="http://www.crossfit.com">Crossfit</a>.
  </p>
  <p>
    And, no, I'm not Steve Jansen the British jazz drummer, though that does sound like a sweet career.
  </p>
</section>
<section>
  <h1>Favorite Posts</h1>
  <ul id="recent_posts">
      <li class="post">
        <a href="/guides/windows-batch-scripting/index.html">Guide to Windows Batch Scripting</a>
      </li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/08/20/for-all-ui-devs-out-there-json-proxy-v0-dot-10-dot-0/">For all UI devs out there...json-proxy v0.10.0</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/11/passport-reverseproxy/">passport-reverseproxy</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/06/cordova-email-plugin-for-ios-update/">Update to the Cordova Email Plugin for iOS</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/28/how-to-modify-the-tcp-slash-ip-port-binding-for-the-microsoft-web-deployment-agent-service/">How to modify the TCP/IP port binding for the Microsoft Web Deployment Agent Service</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/27/tailoring-the-windows-command-prompt-shell/">Tailoring the Windows Command Prompt Shell</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <!--<a href="https://github.com/steve-jansen">@steve-jansen</a> on GitHub-->
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'steve-jansen',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Social Stuff</h1>
  <ul>
    
      <li /><a href="https://github.com/steve-jansen">@steve-jansen</a> on GitHub
    
    <li /><a href="http://stackoverflow.com/users/1995977/steve-jansen">@steve-jansen</a> on StackOverflow
    <li /><a href="https://connect.microsoft.com/SQLServer/SearchResults.aspx?UserHandle=steve-jansen">@steve-jansen</a> on Microsft Connect
    <li /><a href="http://aspnet.uservoice.com/users/33548256-steve-jansen">@steve-jansen</a> on ASP.NET User Voice
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Steve Jansen -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'steve-jansen';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://steve-jansen.github.com/guides/windows-batch-scripting/part-4-stdin-stdout-stderr.html';
        var disqus_url = 'http://steve-jansen.github.com/guides/windows-batch-scripting/part-4-stdin-stdout-stderr.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
